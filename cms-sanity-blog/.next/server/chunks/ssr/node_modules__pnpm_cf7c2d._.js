module.exports = {

"[project]/node_modules/.pnpm/obliterator@2.0.4/node_modules/obliterator/iterator.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
/**
 * Obliterator Iterator Class
 * ===========================
 *
 * Simple class representing the library's iterators.
 */ /**
 * Iterator class.
 *
 * @constructor
 * @param {function} next - Next function.
 */ function Iterator(next) {
    if (typeof next !== 'function') throw new Error('obliterator/iterator: expecting a function!');
    this.next = next;
}
/**
 * If symbols are supported, we add `next` to `Symbol.iterator`.
 */ if (typeof Symbol !== 'undefined') Iterator.prototype[Symbol.iterator] = function() {
    return this;
};
/**
 * Returning an iterator of the given values.
 *
 * @param  {any...} values - Values.
 * @return {Iterator}
 */ Iterator.of = function() {
    var args = arguments, l = args.length, i = 0;
    return new Iterator(function() {
        if (i >= l) return {
            done: true
        };
        return {
            done: false,
            value: args[i++]
        };
    });
};
/**
 * Returning an empty iterator.
 *
 * @return {Iterator}
 */ Iterator.empty = function() {
    var iterator = new Iterator(function() {
        return {
            done: true
        };
    });
    return iterator;
};
/**
 * Returning an iterator over the given indexed sequence.
 *
 * @param  {string|Array} sequence - Target sequence.
 * @return {Iterator}
 */ Iterator.fromSequence = function(sequence) {
    var i = 0, l = sequence.length;
    return new Iterator(function() {
        if (i >= l) return {
            done: true
        };
        return {
            done: false,
            value: sequence[i++]
        };
    });
};
/**
 * Returning whether the given value is an iterator.
 *
 * @param  {any} value - Value.
 * @return {boolean}
 */ Iterator.is = function(value) {
    if (value instanceof Iterator) return true;
    return typeof value === 'object' && value !== null && typeof value.next === 'function';
};
/**
 * Exporting.
 */ module.exports = Iterator;
}}),
"[project]/node_modules/.pnpm/obliterator@2.0.4/node_modules/obliterator/support.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
exports.ARRAY_BUFFER_SUPPORT = typeof ArrayBuffer !== 'undefined';
exports.SYMBOL_SUPPORT = typeof Symbol !== 'undefined';
}}),
"[project]/node_modules/.pnpm/obliterator@2.0.4/node_modules/obliterator/foreach.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
/**
 * Obliterator ForEach Function
 * =============================
 *
 * Helper function used to easily iterate over mixed values.
 */ var support = __turbopack_require__("[project]/node_modules/.pnpm/obliterator@2.0.4/node_modules/obliterator/support.js [app-ssr] (ecmascript)");
var ARRAY_BUFFER_SUPPORT = support.ARRAY_BUFFER_SUPPORT;
var SYMBOL_SUPPORT = support.SYMBOL_SUPPORT;
/**
 * Function able to iterate over almost any iterable JS value.
 *
 * @param  {any}      iterable - Iterable value.
 * @param  {function} callback - Callback function.
 */ module.exports = function forEach(iterable, callback) {
    var iterator, k, i, l, s;
    if (!iterable) throw new Error('obliterator/forEach: invalid iterable.');
    if (typeof callback !== 'function') throw new Error('obliterator/forEach: expecting a callback.');
    // The target is an array or a string or function arguments
    if (Array.isArray(iterable) || ARRAY_BUFFER_SUPPORT && ArrayBuffer.isView(iterable) || typeof iterable === 'string' || iterable.toString() === '[object Arguments]') {
        for(i = 0, l = iterable.length; i < l; i++)callback(iterable[i], i);
        return;
    }
    // The target has a #.forEach method
    if (typeof iterable.forEach === 'function') {
        iterable.forEach(callback);
        return;
    }
    // The target is iterable
    if (SYMBOL_SUPPORT && Symbol.iterator in iterable && typeof iterable.next !== 'function') {
        iterable = iterable[Symbol.iterator]();
    }
    // The target is an iterator
    if (typeof iterable.next === 'function') {
        iterator = iterable;
        i = 0;
        while(s = iterator.next(), s.done !== true){
            callback(s.value, i);
            i++;
        }
        return;
    }
    // The target is a plain object
    for(k in iterable){
        if (iterable.hasOwnProperty(k)) {
            callback(iterable[k], k);
        }
    }
    return;
};
}}),
"[project]/node_modules/.pnpm/mnemonist@0.39.8/node_modules/mnemonist/utils/typed-arrays.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
/**
 * Mnemonist Typed Array Helpers
 * ==============================
 *
 * Miscellaneous helpers related to typed arrays.
 */ /**
 * When using an unsigned integer array to store pointers, one might want to
 * choose the optimal word size in regards to the actual numbers of pointers
 * to store.
 *
 * This helpers does just that.
 *
 * @param  {number} size - Expected size of the array to map.
 * @return {TypedArray}
 */ var MAX_8BIT_INTEGER = Math.pow(2, 8) - 1, MAX_16BIT_INTEGER = Math.pow(2, 16) - 1, MAX_32BIT_INTEGER = Math.pow(2, 32) - 1;
var MAX_SIGNED_8BIT_INTEGER = Math.pow(2, 7) - 1, MAX_SIGNED_16BIT_INTEGER = Math.pow(2, 15) - 1, MAX_SIGNED_32BIT_INTEGER = Math.pow(2, 31) - 1;
exports.getPointerArray = function(size) {
    var maxIndex = size - 1;
    if (maxIndex <= MAX_8BIT_INTEGER) return Uint8Array;
    if (maxIndex <= MAX_16BIT_INTEGER) return Uint16Array;
    if (maxIndex <= MAX_32BIT_INTEGER) return Uint32Array;
    throw new Error('mnemonist: Pointer Array of size > 4294967295 is not supported.');
};
exports.getSignedPointerArray = function(size) {
    var maxIndex = size - 1;
    if (maxIndex <= MAX_SIGNED_8BIT_INTEGER) return Int8Array;
    if (maxIndex <= MAX_SIGNED_16BIT_INTEGER) return Int16Array;
    if (maxIndex <= MAX_SIGNED_32BIT_INTEGER) return Int32Array;
    return Float64Array;
};
/**
 * Function returning the minimal type able to represent the given number.
 *
 * @param  {number} value - Value to test.
 * @return {TypedArrayClass}
 */ exports.getNumberType = function(value) {
    // <= 32 bits itnteger?
    if (value === (value | 0)) {
        // Negative
        if (Math.sign(value) === -1) {
            if (value <= 127 && value >= -128) return Int8Array;
            if (value <= 32767 && value >= -32768) return Int16Array;
            return Int32Array;
        } else {
            if (value <= 255) return Uint8Array;
            if (value <= 65535) return Uint16Array;
            return Uint32Array;
        }
    }
    // 53 bits integer & floats
    // NOTE: it's kinda hard to tell whether we could use 32bits or not...
    return Float64Array;
};
/**
 * Function returning the minimal type able to represent the given array
 * of JavaScript numbers.
 *
 * @param  {array}    array  - Array to represent.
 * @param  {function} getter - Optional getter.
 * @return {TypedArrayClass}
 */ var TYPE_PRIORITY = {
    Uint8Array: 1,
    Int8Array: 2,
    Uint16Array: 3,
    Int16Array: 4,
    Uint32Array: 5,
    Int32Array: 6,
    Float32Array: 7,
    Float64Array: 8
};
// TODO: make this a one-shot for one value
exports.getMinimalRepresentation = function(array, getter) {
    var maxType = null, maxPriority = 0, p, t, v, i, l;
    for(i = 0, l = array.length; i < l; i++){
        v = getter ? getter(array[i]) : array[i];
        t = exports.getNumberType(v);
        p = TYPE_PRIORITY[t.name];
        if (p > maxPriority) {
            maxPriority = p;
            maxType = t;
        }
    }
    return maxType;
};
/**
 * Function returning whether the given value is a typed array.
 *
 * @param  {any} value - Value to test.
 * @return {boolean}
 */ exports.isTypedArray = function(value) {
    return typeof ArrayBuffer !== 'undefined' && ArrayBuffer.isView(value);
};
/**
 * Function used to concat byte arrays.
 *
 * @param  {...ByteArray}
 * @return {ByteArray}
 */ exports.concat = function() {
    var length = 0, i, o, l;
    for(i = 0, l = arguments.length; i < l; i++)length += arguments[i].length;
    var array = new arguments[0].constructor(length);
    for(i = 0, o = 0; i < l; i++){
        array.set(arguments[i], o);
        o += arguments[i].length;
    }
    return array;
};
/**
 * Function used to initialize a byte array of indices.
 *
 * @param  {number}    length - Length of target.
 * @return {ByteArray}
 */ exports.indices = function(length) {
    var PointerArray = exports.getPointerArray(length);
    var array = new PointerArray(length);
    for(var i = 0; i < length; i++)array[i] = i;
    return array;
};
}}),
"[project]/node_modules/.pnpm/mnemonist@0.39.8/node_modules/mnemonist/utils/iterables.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
/**
 * Mnemonist Iterable Function
 * ============================
 *
 * Harmonized iteration helpers over mixed iterable targets.
 */ var forEach = __turbopack_require__("[project]/node_modules/.pnpm/obliterator@2.0.4/node_modules/obliterator/foreach.js [app-ssr] (ecmascript)");
var typed = __turbopack_require__("[project]/node_modules/.pnpm/mnemonist@0.39.8/node_modules/mnemonist/utils/typed-arrays.js [app-ssr] (ecmascript)");
/**
 * Function used to determine whether the given object supports array-like
 * random access.
 *
 * @param  {any} target - Target object.
 * @return {boolean}
 */ function isArrayLike(target) {
    return Array.isArray(target) || typed.isTypedArray(target);
}
/**
 * Function used to guess the length of the structure over which we are going
 * to iterate.
 *
 * @param  {any} target - Target object.
 * @return {number|undefined}
 */ function guessLength(target) {
    if (typeof target.length === 'number') return target.length;
    if (typeof target.size === 'number') return target.size;
    return;
}
/**
 * Function used to convert an iterable to an array.
 *
 * @param  {any}   target - Iteration target.
 * @return {array}
 */ function toArray(target) {
    var l = guessLength(target);
    var array = typeof l === 'number' ? new Array(l) : [];
    var i = 0;
    // TODO: we could optimize when given target is array like
    forEach(target, function(value) {
        array[i++] = value;
    });
    return array;
}
/**
 * Same as above but returns a supplementary indices array.
 *
 * @param  {any}   target - Iteration target.
 * @return {array}
 */ function toArrayWithIndices(target) {
    var l = guessLength(target);
    var IndexArray = typeof l === 'number' ? typed.getPointerArray(l) : Array;
    var array = typeof l === 'number' ? new Array(l) : [];
    var indices = typeof l === 'number' ? new IndexArray(l) : [];
    var i = 0;
    // TODO: we could optimize when given target is array like
    forEach(target, function(value) {
        array[i] = value;
        indices[i] = i++;
    });
    return [
        array,
        indices
    ];
}
/**
 * Exporting.
 */ exports.isArrayLike = isArrayLike;
exports.guessLength = guessLength;
exports.toArray = toArray;
exports.toArrayWithIndices = toArrayWithIndices;
}}),
"[project]/node_modules/.pnpm/mnemonist@0.39.8/node_modules/mnemonist/lru-cache.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
/**
 * Mnemonist LRUCache
 * ===================
 *
 * JavaScript implementation of the LRU Cache data structure. To save up
 * memory and allocations this implementation represents its underlying
 * doubly-linked list as static arrays and pointers. Thus, memory is allocated
 * only once at instantiation and JS objects are never created to serve as
 * pointers. This also means this implementation does not trigger too many
 * garbage collections.
 *
 * Note that to save up memory, a LRU Cache can be implemented using a singly
 * linked list by storing predecessors' pointers as hashmap values.
 * However, this means more hashmap lookups and would probably slow the whole
 * thing down. What's more, pointers are not the things taking most space in
 * memory.
 */ var Iterator = __turbopack_require__("[project]/node_modules/.pnpm/obliterator@2.0.4/node_modules/obliterator/iterator.js [app-ssr] (ecmascript)"), forEach = __turbopack_require__("[project]/node_modules/.pnpm/obliterator@2.0.4/node_modules/obliterator/foreach.js [app-ssr] (ecmascript)"), typed = __turbopack_require__("[project]/node_modules/.pnpm/mnemonist@0.39.8/node_modules/mnemonist/utils/typed-arrays.js [app-ssr] (ecmascript)"), iterables = __turbopack_require__("[project]/node_modules/.pnpm/mnemonist@0.39.8/node_modules/mnemonist/utils/iterables.js [app-ssr] (ecmascript)");
/**
 * LRUCache.
 *
 * @constructor
 * @param {function} Keys     - Array class for storing keys.
 * @param {function} Values   - Array class for storing values.
 * @param {number}   capacity - Desired capacity.
 */ function LRUCache(Keys, Values, capacity) {
    if (arguments.length < 2) {
        capacity = Keys;
        Keys = null;
        Values = null;
    }
    this.capacity = capacity;
    if (typeof this.capacity !== 'number' || this.capacity <= 0) throw new Error('mnemonist/lru-cache: capacity should be positive number.');
    else if (!isFinite(this.capacity) || Math.floor(this.capacity) !== this.capacity) throw new Error('mnemonist/lru-cache: capacity should be a finite positive integer.');
    var PointerArray = typed.getPointerArray(capacity);
    this.forward = new PointerArray(capacity);
    this.backward = new PointerArray(capacity);
    this.K = typeof Keys === 'function' ? new Keys(capacity) : new Array(capacity);
    this.V = typeof Values === 'function' ? new Values(capacity) : new Array(capacity);
    // Properties
    this.size = 0;
    this.head = 0;
    this.tail = 0;
    this.items = {};
}
/**
 * Method used to clear the structure.
 *
 * @return {undefined}
 */ LRUCache.prototype.clear = function() {
    this.size = 0;
    this.head = 0;
    this.tail = 0;
    this.items = {};
};
/**
 * Method used to splay a value on top.
 *
 * @param  {number}   pointer - Pointer of the value to splay on top.
 * @return {LRUCache}
 */ LRUCache.prototype.splayOnTop = function(pointer) {
    var oldHead = this.head;
    if (this.head === pointer) return this;
    var previous = this.backward[pointer], next = this.forward[pointer];
    if (this.tail === pointer) {
        this.tail = previous;
    } else {
        this.backward[next] = previous;
    }
    this.forward[previous] = next;
    this.backward[oldHead] = pointer;
    this.head = pointer;
    this.forward[pointer] = oldHead;
    return this;
};
/**
 * Method used to set the value for the given key in the cache.
 *
 * @param  {any} key   - Key.
 * @param  {any} value - Value.
 * @return {undefined}
 */ LRUCache.prototype.set = function(key, value) {
    var pointer = this.items[key];
    // The key already exists, we just need to update the value and splay on top
    if (typeof pointer !== 'undefined') {
        this.splayOnTop(pointer);
        this.V[pointer] = value;
        return;
    }
    // The cache is not yet full
    if (this.size < this.capacity) {
        pointer = this.size++;
    } else {
        pointer = this.tail;
        this.tail = this.backward[pointer];
        delete this.items[this.K[pointer]];
    }
    // Storing key & value
    this.items[key] = pointer;
    this.K[pointer] = key;
    this.V[pointer] = value;
    // Moving the item at the front of the list
    this.forward[pointer] = this.head;
    this.backward[this.head] = pointer;
    this.head = pointer;
};
/**
 * Method used to set the value for the given key in the cache
 *
 * @param  {any} key   - Key.
 * @param  {any} value - Value.
 * @return {{evicted: boolean, key: any, value: any}} An object containing the
 * key and value of an item that was overwritten or evicted in the set
 * operation, as well as a boolean indicating whether it was evicted due to
 * limited capacity. Return value is null if nothing was evicted or overwritten
 * during the set operation.
 */ LRUCache.prototype.setpop = function(key, value) {
    var oldValue = null;
    var oldKey = null;
    var pointer = this.items[key];
    // The key already exists, we just need to update the value and splay on top
    if (typeof pointer !== 'undefined') {
        this.splayOnTop(pointer);
        oldValue = this.V[pointer];
        this.V[pointer] = value;
        return {
            evicted: false,
            key: key,
            value: oldValue
        };
    }
    // The cache is not yet full
    if (this.size < this.capacity) {
        pointer = this.size++;
    } else {
        pointer = this.tail;
        this.tail = this.backward[pointer];
        oldValue = this.V[pointer];
        oldKey = this.K[pointer];
        delete this.items[oldKey];
    }
    // Storing key & value
    this.items[key] = pointer;
    this.K[pointer] = key;
    this.V[pointer] = value;
    // Moving the item at the front of the list
    this.forward[pointer] = this.head;
    this.backward[this.head] = pointer;
    this.head = pointer;
    // Return object if eviction took place, otherwise return null
    if (oldKey) {
        return {
            evicted: true,
            key: oldKey,
            value: oldValue
        };
    } else {
        return null;
    }
};
/**
 * Method used to check whether the key exists in the cache.
 *
 * @param  {any} key   - Key.
 * @return {boolean}
 */ LRUCache.prototype.has = function(key) {
    return key in this.items;
};
/**
 * Method used to get the value attached to the given key. Will move the
 * related key to the front of the underlying linked list.
 *
 * @param  {any} key   - Key.
 * @return {any}
 */ LRUCache.prototype.get = function(key) {
    var pointer = this.items[key];
    if (typeof pointer === 'undefined') return;
    this.splayOnTop(pointer);
    return this.V[pointer];
};
/**
 * Method used to get the value attached to the given key. Does not modify
 * the ordering of the underlying linked list.
 *
 * @param  {any} key   - Key.
 * @return {any}
 */ LRUCache.prototype.peek = function(key) {
    var pointer = this.items[key];
    if (typeof pointer === 'undefined') return;
    return this.V[pointer];
};
/**
 * Method used to iterate over the cache's entries using a callback.
 *
 * @param  {function}  callback - Function to call for each item.
 * @param  {object}    scope    - Optional scope.
 * @return {undefined}
 */ LRUCache.prototype.forEach = function(callback, scope) {
    scope = arguments.length > 1 ? scope : this;
    var i = 0, l = this.size;
    var pointer = this.head, keys = this.K, values = this.V, forward = this.forward;
    while(i < l){
        callback.call(scope, values[pointer], keys[pointer], this);
        pointer = forward[pointer];
        i++;
    }
};
/**
 * Method used to create an iterator over the cache's keys from most
 * recently used to least recently used.
 *
 * @return {Iterator}
 */ LRUCache.prototype.keys = function() {
    var i = 0, l = this.size;
    var pointer = this.head, keys = this.K, forward = this.forward;
    return new Iterator(function() {
        if (i >= l) return {
            done: true
        };
        var key = keys[pointer];
        i++;
        if (i < l) pointer = forward[pointer];
        return {
            done: false,
            value: key
        };
    });
};
/**
 * Method used to create an iterator over the cache's values from most
 * recently used to least recently used.
 *
 * @return {Iterator}
 */ LRUCache.prototype.values = function() {
    var i = 0, l = this.size;
    var pointer = this.head, values = this.V, forward = this.forward;
    return new Iterator(function() {
        if (i >= l) return {
            done: true
        };
        var value = values[pointer];
        i++;
        if (i < l) pointer = forward[pointer];
        return {
            done: false,
            value: value
        };
    });
};
/**
 * Method used to create an iterator over the cache's entries from most
 * recently used to least recently used.
 *
 * @return {Iterator}
 */ LRUCache.prototype.entries = function() {
    var i = 0, l = this.size;
    var pointer = this.head, keys = this.K, values = this.V, forward = this.forward;
    return new Iterator(function() {
        if (i >= l) return {
            done: true
        };
        var key = keys[pointer], value = values[pointer];
        i++;
        if (i < l) pointer = forward[pointer];
        return {
            done: false,
            value: [
                key,
                value
            ]
        };
    });
};
/**
 * Attaching the #.entries method to Symbol.iterator if possible.
 */ if (typeof Symbol !== 'undefined') LRUCache.prototype[Symbol.iterator] = LRUCache.prototype.entries;
/**
 * Convenience known methods.
 */ LRUCache.prototype.inspect = function() {
    var proxy = new Map();
    var iterator = this.entries(), step;
    while(step = iterator.next(), !step.done)proxy.set(step.value[0], step.value[1]);
    // Trick so that node displays the name of the constructor
    Object.defineProperty(proxy, 'constructor', {
        value: LRUCache,
        enumerable: false
    });
    return proxy;
};
if (typeof Symbol !== 'undefined') LRUCache.prototype[Symbol.for('nodejs.util.inspect.custom')] = LRUCache.prototype.inspect;
/**
 * Static @.from function taking an arbitrary iterable & converting it into
 * a structure.
 *
 * @param  {Iterable} iterable - Target iterable.
 * @param  {function} Keys     - Array class for storing keys.
 * @param  {function} Values   - Array class for storing values.
 * @param  {number}   capacity - Cache's capacity.
 * @return {LRUCache}
 */ LRUCache.from = function(iterable, Keys, Values, capacity) {
    if (arguments.length < 2) {
        capacity = iterables.guessLength(iterable);
        if (typeof capacity !== 'number') throw new Error('mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.');
    } else if (arguments.length === 2) {
        capacity = Keys;
        Keys = null;
        Values = null;
    }
    var cache = new LRUCache(Keys, Values, capacity);
    forEach(iterable, function(value, key) {
        cache.set(key, value);
    });
    return cache;
};
/**
 * Exporting.
 */ module.exports = LRUCache;
}}),
"[project]/node_modules/.pnpm/mnemonist@0.39.8/node_modules/mnemonist/lru-cache-with-delete.js [app-ssr] (ecmascript)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
/**
 * Mnemonist LRUCacheWithDelete
 * =============================
 *
 * An extension of LRUCache with delete functionality.
 */ var LRUCache = __turbopack_require__("[project]/node_modules/.pnpm/mnemonist@0.39.8/node_modules/mnemonist/lru-cache.js [app-ssr] (ecmascript)"), forEach = __turbopack_require__("[project]/node_modules/.pnpm/obliterator@2.0.4/node_modules/obliterator/foreach.js [app-ssr] (ecmascript)"), typed = __turbopack_require__("[project]/node_modules/.pnpm/mnemonist@0.39.8/node_modules/mnemonist/utils/typed-arrays.js [app-ssr] (ecmascript)"), iterables = __turbopack_require__("[project]/node_modules/.pnpm/mnemonist@0.39.8/node_modules/mnemonist/utils/iterables.js [app-ssr] (ecmascript)");
// The only complication with deleting items is that the LRU's
// performance depends on having a fixed-size list of pointers; the
// doubly-linked-list is happy to expand and contract.
//
// On delete, we record the position of the former item's pointer in a
// list of "holes" in the pointer array. On insert, if there is a hole
// the new pointer slots in to fill the hole; otherwise, it is
// appended as usual. (Note: we are only talking here about the
// internal pointer list. setting or getting an item promotes it
// to the top of the LRU ranking no matter what came before)
function LRUCacheWithDelete(Keys, Values, capacity) {
    if (arguments.length < 2) {
        LRUCache.call(this, Keys);
    } else {
        LRUCache.call(this, Keys, Values, capacity);
    }
    var PointerArray = typed.getPointerArray(this.capacity);
    this.deleted = new PointerArray(this.capacity);
    this.deletedSize = 0;
}
for(var k in LRUCache.prototype)LRUCacheWithDelete.prototype[k] = LRUCache.prototype[k];
if (typeof Symbol !== 'undefined') LRUCacheWithDelete.prototype[Symbol.iterator] = LRUCache.prototype[Symbol.iterator];
/**
 * Method used to clear the structure.
 *
 * @return {undefined}
 */ LRUCacheWithDelete.prototype.clear = function() {
    LRUCache.prototype.clear.call(this);
    this.deletedSize = 0;
};
/**
 * Method used to set the value for the given key in the cache.
 *
 * @param  {any} key   - Key.
 * @param  {any} value - Value.
 * @return {undefined}
 */ LRUCacheWithDelete.prototype.set = function(key, value) {
    var pointer = this.items[key];
    // The key already exists, we just need to update the value and splay on top
    if (typeof pointer !== 'undefined') {
        this.splayOnTop(pointer);
        this.V[pointer] = value;
        return;
    }
    // The cache is not yet full
    if (this.size < this.capacity) {
        if (this.deletedSize > 0) {
            // If there is a "hole" in the pointer list, reuse it
            pointer = this.deleted[--this.deletedSize];
        } else {
            // otherwise append to the pointer list
            pointer = this.size;
        }
        this.size++;
    } else {
        pointer = this.tail;
        this.tail = this.backward[pointer];
        delete this.items[this.K[pointer]];
    }
    // Storing key & value
    this.items[key] = pointer;
    this.K[pointer] = key;
    this.V[pointer] = value;
    // Moving the item at the front of the list
    this.forward[pointer] = this.head;
    this.backward[this.head] = pointer;
    this.head = pointer;
};
/**
 * Method used to set the value for the given key in the cache
 *
 * @param  {any} key   - Key.
 * @param  {any} value - Value.
 * @return {{evicted: boolean, key: any, value: any}} An object containing the
 * key and value of an item that was overwritten or evicted in the set
 * operation, as well as a boolean indicating whether it was evicted due to
 * limited capacity. Return value is null if nothing was evicted or overwritten
 * during the set operation.
 */ LRUCacheWithDelete.prototype.setpop = function(key, value) {
    var oldValue = null;
    var oldKey = null;
    var pointer = this.items[key];
    // The key already exists, we just need to update the value and splay on top
    if (typeof pointer !== 'undefined') {
        this.splayOnTop(pointer);
        oldValue = this.V[pointer];
        this.V[pointer] = value;
        return {
            evicted: false,
            key: key,
            value: oldValue
        };
    }
    // The cache is not yet full
    if (this.size < this.capacity) {
        if (this.deletedSize > 0) {
            // If there is a "hole" in the pointer list, reuse it
            pointer = this.deleted[--this.deletedSize];
        } else {
            // otherwise append to the pointer list
            pointer = this.size;
        }
        this.size++;
    } else {
        pointer = this.tail;
        this.tail = this.backward[pointer];
        oldValue = this.V[pointer];
        oldKey = this.K[pointer];
        delete this.items[oldKey];
    }
    // Storing key & value
    this.items[key] = pointer;
    this.K[pointer] = key;
    this.V[pointer] = value;
    // Moving the item at the front of the list
    this.forward[pointer] = this.head;
    this.backward[this.head] = pointer;
    this.head = pointer;
    // Return object if eviction took place, otherwise return null
    if (oldKey) {
        return {
            evicted: true,
            key: oldKey,
            value: oldValue
        };
    } else {
        return null;
    }
};
/**
 * Method used to delete the entry for the given key in the cache.
 *
 * @param  {any} key   - Key.
 * @return {boolean}   - true if the item was present
 */ LRUCacheWithDelete.prototype.delete = function(key) {
    var pointer = this.items[key];
    if (typeof pointer === 'undefined') {
        return false;
    }
    delete this.items[key];
    if (this.size === 1) {
        this.size = 0;
        this.head = 0;
        this.tail = 0;
        this.deletedSize = 0;
        return true;
    }
    var previous = this.backward[pointer], next = this.forward[pointer];
    if (this.head === pointer) {
        this.head = next;
    }
    if (this.tail === pointer) {
        this.tail = previous;
    }
    this.forward[previous] = next;
    this.backward[next] = previous;
    this.size--;
    this.deleted[this.deletedSize++] = pointer;
    return true;
};
/**
 * Method used to remove and return the value for the given key in the cache.
 *
 * @param  {any} key                 - Key.
 * @param  {any} [missing=undefined] - Value to return if item is absent
 * @return {any} The value, if present; the missing indicator if absent
 */ LRUCacheWithDelete.prototype.remove = function(key, missing = undefined) {
    var pointer = this.items[key];
    if (typeof pointer === 'undefined') {
        return missing;
    }
    var dead = this.V[pointer];
    delete this.items[key];
    if (this.size === 1) {
        this.size = 0;
        this.head = 0;
        this.tail = 0;
        this.deletedSize = 0;
        return dead;
    }
    var previous = this.backward[pointer], next = this.forward[pointer];
    if (this.head === pointer) {
        this.head = next;
    }
    if (this.tail === pointer) {
        this.tail = previous;
    }
    this.forward[previous] = next;
    this.backward[next] = previous;
    this.size--;
    this.deleted[this.deletedSize++] = pointer;
    return dead;
};
/**
 * Static @.from function taking an arbitrary iterable & converting it into
 * a structure.
 *
 * @param  {Iterable} iterable - Target iterable.
 * @param  {function} Keys     - Array class for storing keys.
 * @param  {function} Values   - Array class for storing values.
 * @param  {number}   capacity - Cache's capacity.
 * @return {LRUCacheWithDelete}
 */ LRUCacheWithDelete.from = function(iterable, Keys, Values, capacity) {
    if (arguments.length < 2) {
        capacity = iterables.guessLength(iterable);
        if (typeof capacity !== 'number') throw new Error('mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.');
    } else if (arguments.length === 2) {
        capacity = Keys;
        Keys = null;
        Values = null;
    }
    var cache = new LRUCacheWithDelete(Keys, Values, capacity);
    forEach(iterable, function(value, key) {
        cache.set(key, value);
    });
    return cache;
};
module.exports = LRUCacheWithDelete;
}}),
"[project]/node_modules/.pnpm/@sanity+presentation@1.19.8_@emotion+is-prop-valid@1.2.2_@sanity+color@3.0.6_debug@4.4.0_reac_epti5vobal4q5xpl7pmbcf6wnm/node_modules/@sanity/presentation/dist/_chunks-es/hooks.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "useQueryParams": (()=>useQueryParams),
    "useRevalidate": (()=>useRevalidate)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$react$2d$compiler$2d$runtime$40$19$2e$0$2e$0$2d$beta$2d$37ed2a7$2d$20241206_react$40$18$2e$3$2e$1$2f$node_modules$2f$react$2d$compiler$2d$runtime$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/react-compiler-runtime@19.0.0-beta-37ed2a7-20241206_react@18.3.1/node_modules/react-compiler-runtime/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/next@15.1.0_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
;
;
function useQueryParams(params) {
    const stringifiedParams = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>JSON.stringify(params || {}), [
        params
    ]);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>JSON.parse(stringifiedParams), [
        stringifiedParams
    ]);
}
function useRevalidate(props) {
    const { refreshInterval } = props, shouldPause = useShouldPause(), [state, setState] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])("hit"), startRefresh = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useCallback"])(()=>(setState("inflight"), ()=>setState("hit")), []);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!refreshInterval || state !== "hit") return;
        const timeout = setTimeout(()=>setState("stale"), refreshInterval);
        return ()=>clearTimeout(timeout);
    }, [
        refreshInterval,
        state
    ]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (state !== "hit") return;
        const onFocus = ()=>setState("stale");
        return window.addEventListener("focus", onFocus), ()=>window.removeEventListener("focus", onFocus);
    }, [
        refreshInterval,
        state
    ]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        shouldPause && state === "hit" && setState("stale"), !shouldPause && state === "stale" && setState("refresh");
    }, [
        shouldPause,
        state
    ]), [
        state,
        startRefresh
    ];
}
function useShouldPause() {
    const $ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$react$2d$compiler$2d$runtime$40$19$2e$0$2e$0$2d$beta$2d$37ed2a7$2d$20241206_react$40$18$2e$3$2e$1$2f$node_modules$2f$react$2d$compiler$2d$runtime$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])(2), [online, setOnline] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(!1);
    let t0, t1;
    $[0] === Symbol.for("react.memo_cache_sentinel") ? (t0 = ()=>{
        setOnline(navigator.onLine);
        const online2 = ()=>setOnline(!0), offline = ()=>setOnline(!1);
        return window.addEventListener("online", online2), window.addEventListener("offline", offline), ()=>{
            window.removeEventListener("online", online2), window.removeEventListener("offline", offline);
        };
    }, t1 = [], $[0] = t0, $[1] = t1) : (t0 = $[0], t1 = $[1]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(t0, t1);
    const visibilityState = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useSyncExternalStore"])(onVisibilityChange, _temp, _temp2);
    return !online || visibilityState === "hidden";
}
function _temp2() {
    return "hidden";
}
function _temp() {
    return document.visibilityState;
}
function onVisibilityChange(onStoreChange) {
    return document.addEventListener("visibilitychange", onStoreChange), ()=>document.removeEventListener("visibilitychange", onStoreChange);
}
;
 //# sourceMappingURL=hooks.js.map
}}),
"[project]/node_modules/.pnpm/@sanity+client@6.24.1_debug@4.4.0/node_modules/@sanity/client/dist/csm.js [app-ssr] (ecmascript) <locals>": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "applySourceDocuments": (()=>applySourceDocuments),
    "resolveEditUrl": (()=>resolveEditUrl),
    "resolvedKeyedSourcePath": (()=>resolvedKeyedSourcePath)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/@sanity+client@6.24.1_debug@4.4.0/node_modules/@sanity/client/dist/_chunks-es/resolveEditInfo.js [app-ssr] (ecmascript)");
;
;
const defaultUpdateFunction = (changed)=>changed;
function applySourceDocuments(result, resultSourceMap, getCachedDocument, updateFn = defaultUpdateFunction, perspective = "raw") {
    if (!resultSourceMap) return result;
    if (perspective !== "published" && perspective !== "raw" && perspective !== "previewDrafts") throw new Error(`Unknown perspective "${perspective}"`);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["walkMap"])(JSON.parse(JSON.stringify(result)), (value, path)=>{
        const resolveMappingResult = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["resolveMapping"])(path, resultSourceMap);
        if (!resolveMappingResult) return value;
        const { mapping, pathSuffix } = resolveMappingResult;
        if (mapping.type !== "value" || mapping.source.type !== "documentValue") return value;
        const sourceDocument = resultSourceMap.documents[mapping.source.document], sourcePath = resultSourceMap.paths[mapping.source.path];
        if (sourceDocument) {
            const parsedPath = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parseJsonPath"])(sourcePath + pathSuffix), stringifiedPath = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["toString"])(parsedPath);
            if (stringifiedPath === "_id") return value;
            let cachedDocument;
            if (perspective === "previewDrafts" ? (cachedDocument = getCachedDocument(sourceDocument._id.startsWith(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DRAFTS_PREFIX"]) ? sourceDocument : {
                ...sourceDocument,
                _id: `${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DRAFTS_PREFIX"]}${sourceDocument._id}}`
            }), cachedDocument || (cachedDocument = getCachedDocument(sourceDocument._id.startsWith(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DRAFTS_PREFIX"]) ? {
                ...sourceDocument,
                _id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getPublishedId"])(sourceDocument._id)
            } : sourceDocument)), cachedDocument && (cachedDocument = {
                ...cachedDocument,
                _id: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getPublishedId"])(sourceDocument._id),
                _originalId: sourceDocument._id
            })) : cachedDocument = getCachedDocument(sourceDocument), !cachedDocument) return value;
            const changedValue = cachedDocument ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["get"])(cachedDocument, stringifiedPath, value) : value;
            return value === changedValue ? value : updateFn(changedValue, {
                cachedDocument,
                previousValue: value,
                sourceDocument,
                sourcePath: parsedPath
            });
        }
        return value;
    });
}
function resolvedKeyedSourcePath(options) {
    const { keyedResultPath, pathSuffix, sourceBasePath } = options, inferredResultPath = pathSuffix === void 0 ? [] : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parseJsonPath"])(pathSuffix), inferredPath = keyedResultPath.slice(keyedResultPath.length - inferredResultPath.length), inferredPathSuffix = inferredPath.length ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsonPath"])(inferredPath).slice(1) : "";
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parseJsonPath"])(sourceBasePath + inferredPathSuffix);
}
function resolveEditUrl(options) {
    const { resultSourceMap, studioUrl } = options, resultPath = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["studioPathToJsonPath"])(options.resultPath), editInfo = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["resolveEditInfo"])({
        resultPath,
        resultSourceMap,
        studioUrl
    });
    if (editInfo) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createEditUrl"])(editInfo);
}
;
 //# sourceMappingURL=csm.js.map
}}),
"[project]/node_modules/.pnpm/@sanity+presentation@1.19.8_@emotion+is-prop-valid@1.2.2_@sanity+color@3.0.6_debug@4.4.0_reac_epti5vobal4q5xpl7pmbcf6wnm/node_modules/@sanity/presentation/dist/_chunks-es/LoaderQueries.js [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
__turbopack_esm__({
    "default": (()=>LoaderQueries),
    "turboChargeResultIfSourceMap": (()=>turboChargeResultIfSourceMap)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/next@15.1.0_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$react$2d$compiler$2d$runtime$40$19$2e$0$2e$0$2d$beta$2d$37ed2a7$2d$20241206_react$40$18$2e$3$2e$1$2f$node_modules$2f$react$2d$compiler$2d$runtime$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/react-compiler-runtime@19.0.0-beta-37ed2a7-20241206_react@18.3.1/node_modules/react-compiler-runtime/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$mnemonist$40$0$2e$39$2e$8$2f$node_modules$2f$mnemonist$2f$lru$2d$cache$2d$with$2d$delete$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/mnemonist@0.39.8/node_modules/mnemonist/lru-cache-with-delete.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/next@15.1.0_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sanity$40$3$2e$67$2e$1_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$types$2b$node$40$22$2e$10$2e$2_$40$types$2b$react$40$18$2e$3$2e$17_react$2d$dom_5ydo4m4kut47iawfyfyzcg2twu$2f$node_modules$2f$sanity$2f$lib$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/.pnpm/sanity@3.67.1_@emotion+is-prop-valid@1.2.2_@types+node@22.10.2_@types+react@18.3.17_react-dom_5ydo4m4kut47iawfyfyzcg2twu/node_modules/sanity/lib/index.mjs [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/@sanity+presentation@1.19.8_@emotion+is-prop-valid@1.2.2_@sanity+color@3.0.6_debug@4.4.0_reac_epti5vobal4q5xpl7pmbcf6wnm/node_modules/@sanity/presentation/dist/_chunks-es/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$comlink$40$2$2e$0$2e$1$2f$node_modules$2f40$sanity$2f$comlink$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/@sanity+comlink@2.0.1/node_modules/@sanity/comlink/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$PresentationToolGrantsCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/@sanity+presentation@1.19.8_@emotion+is-prop-valid@1.2.2_@sanity+color@3.0.6_debug@4.4.0_reac_epti5vobal4q5xpl7pmbcf6wnm/node_modules/@sanity/presentation/dist/_chunks-es/PresentationToolGrantsCheck.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$mendoza$40$3$2e$0$2e$8$2f$node_modules$2f$mendoza$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/mendoza@3.0.8/node_modules/mendoza/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$hooks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/@sanity+presentation@1.19.8_@emotion+is-prop-valid@1.2.2_@sanity+color@3.0.6_debug@4.4.0_reac_epti5vobal4q5xpl7pmbcf6wnm/node_modules/@sanity/presentation/dist/_chunks-es/hooks.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$csm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_import__("[project]/node_modules/.pnpm/@sanity+client@6.24.1_debug@4.4.0/node_modules/@sanity/client/dist/csm.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/.pnpm/@sanity+client@6.24.1_debug@4.4.0/node_modules/@sanity/client/dist/_chunks-es/resolveEditInfo.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
;
;
function LoaderQueries(props) {
    const { liveDocument, controller, perspective: activePerspective, documentsOnPage, onLoadersConnection, onDocumentsOnPage } = props, [comlink, setComlink] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(), [liveQueries, setLiveQueries] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])({}), projectId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sanity$40$3$2e$67$2e$1_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$types$2b$node$40$22$2e$10$2e$2_$40$types$2b$react$40$18$2e$3$2e$17_react$2d$dom_5ydo4m4kut47iawfyfyzcg2twu$2f$node_modules$2f$sanity$2f$lib$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["useProjectId"])(), dataset = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sanity$40$3$2e$67$2e$1_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$types$2b$node$40$22$2e$10$2e$2_$40$types$2b$react$40$18$2e$3$2e$17_react$2d$dom_5ydo4m4kut47iawfyfyzcg2twu$2f$node_modules$2f$sanity$2f$lib$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["useDataset"])();
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        const interval = setInterval(()=>setLiveQueries((liveQueries_0)=>{
                if (Object.keys(liveQueries_0).length < 1) return liveQueries_0;
                const now = Date.now();
                if (!Object.values(liveQueries_0).some((liveQuery)=>liveQuery.heartbeat !== !1 && now > liveQuery.receivedAt + liveQuery.heartbeat)) return liveQueries_0;
                const next = {};
                for (const [key, value] of Object.entries(liveQueries_0))value.heartbeat !== !1 && now > value.receivedAt + value.heartbeat || (next[key] = value);
                return next;
            }), __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MIN_LOADER_QUERY_LISTEN_HEARTBEAT_INTERVAL"]);
        return ()=>clearInterval(interval);
    }, []), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (controller) {
            const comlink_0 = controller.createChannel({
                name: "presentation",
                connectTo: "loaders",
                heartbeat: !0
            }, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$comlink$40$2$2e$0$2e$1$2f$node_modules$2f40$sanity$2f$comlink$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createConnectionMachine"])().provide({
                actors: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$PresentationToolGrantsCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createCompatibilityActors"])()
            }));
            return setComlink(comlink_0), comlink_0.onStatus(onLoadersConnection), comlink_0.on("loader/documents", (data)=>{
                data.projectId === projectId && data.dataset === dataset && onDocumentsOnPage("loaders", // eslint-disable-next-line @typescript-eslint/no-explicit-any
                data.perspective, data.documents);
            }), comlink_0.on("loader/query-listen", (data_0)=>{
                if (data_0.projectId === projectId && data_0.dataset === dataset) {
                    if (typeof data_0.heartbeat == "number" && data_0.heartbeat < __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MIN_LOADER_QUERY_LISTEN_HEARTBEAT_INTERVAL"]) throw new Error(`Loader query listen heartbeat interval must be at least ${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["MIN_LOADER_QUERY_LISTEN_HEARTBEAT_INTERVAL"]}ms`);
                    setLiveQueries((prev)=>({
                            ...prev,
                            [(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$PresentationToolGrantsCheck$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getQueryCacheKey"])(data_0.query, data_0.params)]: {
                                perspective: data_0.perspective,
                                query: data_0.query,
                                params: data_0.params,
                                receivedAt: Date.now(),
                                heartbeat: data_0.heartbeat ?? !1
                            }
                        }));
                }
            }), comlink_0.start();
        }
    }, [
        controller,
        dataset,
        onDocumentsOnPage,
        onLoadersConnection,
        projectId
    ]);
    const [cache] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(()=>new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$mnemonist$40$0$2e$39$2e$8$2f$node_modules$2f$mnemonist$2f$lru$2d$cache$2d$with$2d$delete$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"](__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["LIVE_QUERY_CACHE_SIZE"])), studioClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sanity$40$3$2e$67$2e$1_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$types$2b$node$40$22$2e$10$2e$2_$40$types$2b$react$40$18$2e$3$2e$17_react$2d$dom_5ydo4m4kut47iawfyfyzcg2twu$2f$node_modules$2f$sanity$2f$lib$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["useClient"])({
        apiVersion: "2023-10-16"
    }), clientConfig = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>studioClient.config(), [
        studioClient
    ]), client = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>studioClient.withConfig({
            resultSourceMap: "withKeyArraySelector"
        }), [
        studioClient
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (comlink) {
            const { projectId: projectId_0, dataset: dataset_0 } = clientConfig;
            comlink.post("loader/perspective", {
                projectId: projectId_0,
                dataset: dataset_0,
                perspective: activePerspective
            });
        }
    }, [
        comlink,
        clientConfig,
        activePerspective
    ]);
    const turboIds = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>{
        const documentsActuallyInUse = documentsOnPage.map(({ _id })=>_id), ids = [
            ...new Set(documentsActuallyInUse)
        ], max = cache.capacity;
        return ids.length >= max && (ids.length = max), ids;
    }, [
        cache.capacity,
        documentsOnPage
    ]), [documentsCacheLastUpdated, setDocumentsCacheLastUpdated] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(0);
    return /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
        children: [
            /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Turbo, {
                cache,
                client,
                turboIds,
                setDocumentsCacheLastUpdated
            }),
            Object.entries(liveQueries).map(([key_0, { query, params, perspective }])=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(QuerySubscription, {
                    cache,
                    projectId: clientConfig.projectId,
                    dataset: clientConfig.dataset,
                    perspective,
                    query,
                    params,
                    comlink,
                    client,
                    refreshInterval: activePerspective ? 2e3 : 0,
                    liveDocument,
                    documentsCacheLastUpdated
                }, `${key_0}${perspective}`))
        ]
    });
}
const Turbo = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["memo"])(function(props) {
    const $ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$react$2d$compiler$2d$runtime$40$19$2e$0$2e$0$2d$beta$2d$37ed2a7$2d$20241206_react$40$18$2e$3$2e$1$2f$node_modules$2f$react$2d$compiler$2d$runtime$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])(22), { cache, client, turboIds, setDocumentsCacheLastUpdated } = props;
    let t0;
    $[0] === Symbol.for("react.memo_cache_sentinel") ? (t0 = [], $[0] = t0) : t0 = $[0];
    const [batch, setBatch] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(t0);
    let t1, t2;
    $[1] !== batch || $[2] !== cache || $[3] !== turboIds ? (t1 = ()=>{
        const batchSet = new Set(batch.flat()), nextBatch = /* @__PURE__ */ new Set();
        for (const turboId of turboIds)!batchSet.has(turboId) && !cache.has(turboId) && nextBatch.add(turboId);
        const nextBatchSlice = [
            ...nextBatch
        ].slice(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["LIVE_QUERY_CACHE_BATCH_SIZE"]);
        nextBatchSlice.length !== 0 && setBatch((prevBatch)=>[
                ...prevBatch.slice(-__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["LIVE_QUERY_CACHE_BATCH_SIZE"]),
                nextBatchSlice
            ]);
    }, t2 = [
        batch,
        cache,
        turboIds
    ], $[1] = batch, $[2] = cache, $[3] = turboIds, $[4] = t1, $[5] = t2) : (t1 = $[4], t2 = $[5]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(t1, t2);
    let t3, t4;
    $[6] !== cache || $[7] !== client || $[8] !== setDocumentsCacheLastUpdated ? (t3 = ()=>{
        const subscription = client.listen("*", {}, {
            events: [
                "mutation"
            ],
            effectFormat: "mendoza",
            includePreviousRevision: !1,
            includeResult: !1,
            tag: "presentation-loader"
        }).subscribe((update)=>{
            if (update.type === "mutation" && update.transition === "disappear" && cache.delete(update.documentId) && setDocumentsCacheLastUpdated(Date.now()), update.type !== "mutation" || !update.effects?.apply?.length) return;
            const cachedDocument = cache.peek(update.documentId);
            if (cachedDocument) {
                const patchDoc = {
                    ...cachedDocument
                };
                delete patchDoc._rev;
                const patchedDocument = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$mendoza$40$3$2e$0$2e$8$2f$node_modules$2f$mendoza$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["applyPatch"])(patchDoc, update.effects.apply);
                cache.set(update.documentId, patchedDocument), setDocumentsCacheLastUpdated(Date.now());
            }
        });
        return ()=>subscription.unsubscribe();
    }, t4 = [
        cache,
        client,
        setDocumentsCacheLastUpdated
    ], $[6] = cache, $[7] = client, $[8] = setDocumentsCacheLastUpdated, $[9] = t3, $[10] = t4) : (t3 = $[9], t4 = $[10]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(t3, t4);
    let t5;
    if ($[11] !== batch || $[12] !== cache || $[13] !== client || $[14] !== setDocumentsCacheLastUpdated) {
        let t62;
        $[16] !== cache || $[17] !== client || $[18] !== setDocumentsCacheLastUpdated ? (t62 = (ids)=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(GetDocuments, {
                cache,
                client,
                ids,
                setDocumentsCacheLastUpdated
            }, JSON.stringify(ids)), $[16] = cache, $[17] = client, $[18] = setDocumentsCacheLastUpdated, $[19] = t62) : t62 = $[19], t5 = batch.map(t62), $[11] = batch, $[12] = cache, $[13] = client, $[14] = setDocumentsCacheLastUpdated, $[15] = t5;
    } else t5 = $[15];
    let t6;
    return $[20] !== t5 ? (t6 = /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
        children: t5
    }), $[20] = t5, $[21] = t6) : t6 = $[21], t6;
}), GetDocuments = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["memo"])(function(props) {
    const $ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$react$2d$compiler$2d$runtime$40$19$2e$0$2e$0$2d$beta$2d$37ed2a7$2d$20241206_react$40$18$2e$3$2e$1$2f$node_modules$2f$react$2d$compiler$2d$runtime$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])(6), { client, cache, ids, setDocumentsCacheLastUpdated } = props;
    let t0, t1;
    return $[0] !== cache || $[1] !== client || $[2] !== ids || $[3] !== setDocumentsCacheLastUpdated ? (t0 = ()=>{
        const missingIds = ids.filter((id)=>!cache.has(id));
        missingIds.length !== 0 && client.getDocuments(missingIds).then((documents)=>{
            for (const doc of documents)doc && doc?._id && (cache.set(doc._id, doc), setDocumentsCacheLastUpdated(Date.now()));
        }, console.error);
    }, t1 = [
        cache,
        client,
        ids,
        setDocumentsCacheLastUpdated
    ], $[0] = cache, $[1] = client, $[2] = ids, $[3] = setDocumentsCacheLastUpdated, $[4] = t0, $[5] = t1) : (t0 = $[4], t1 = $[5]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(t0, t1), null;
});
GetDocuments.displayName = "GetDocuments";
function QuerySubscription(props) {
    const $ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$react$2d$compiler$2d$runtime$40$19$2e$0$2e$0$2d$beta$2d$37ed2a7$2d$20241206_react$40$18$2e$3$2e$1$2f$node_modules$2f$react$2d$compiler$2d$runtime$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])(20), { cache, projectId, dataset, perspective, query, client, refreshInterval, liveDocument, comlink, documentsCacheLastUpdated } = props, params = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$hooks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useQueryParams"])(props.params);
    let t0;
    $[0] !== cache || $[1] !== client || $[2] !== documentsCacheLastUpdated || $[3] !== liveDocument || $[4] !== params || $[5] !== perspective || $[6] !== query || $[7] !== refreshInterval ? (t0 = {
        cache,
        client,
        liveDocument,
        params,
        perspective,
        query,
        refreshInterval,
        documentsCacheLastUpdated
    }, $[0] = cache, $[1] = client, $[2] = documentsCacheLastUpdated, $[3] = liveDocument, $[4] = params, $[5] = perspective, $[6] = query, $[7] = refreshInterval, $[8] = t0) : t0 = $[8];
    const data = useQuerySubscription(t0), result = data?.result, resultSourceMap = data?.resultSourceMap, tags = data?.tags;
    let t1, t2;
    return $[9] !== comlink || $[10] !== dataset || $[11] !== params || $[12] !== perspective || $[13] !== projectId || $[14] !== query || $[15] !== result || $[16] !== resultSourceMap || $[17] !== tags ? (t1 = ()=>{
        resultSourceMap && comlink?.post("loader/query-change", {
            projectId,
            dataset,
            perspective,
            query,
            params,
            result,
            resultSourceMap,
            tags
        });
    }, t2 = [
        comlink,
        dataset,
        params,
        perspective,
        projectId,
        query,
        result,
        resultSourceMap,
        tags
    ], $[9] = comlink, $[10] = dataset, $[11] = params, $[12] = perspective, $[13] = projectId, $[14] = query, $[15] = result, $[16] = resultSourceMap, $[17] = tags, $[18] = t1, $[19] = t2) : (t1 = $[18], t2 = $[19]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(t1, t2), null;
}
function useQuerySubscription(props) {
    const { cache, liveDocument, client, refreshInterval, query, params, perspective, documentsCacheLastUpdated } = props, [snapshot, setSnapshot] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null), { projectId: projectId_0, dataset: dataset_0 } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>{
        const { projectId, dataset } = client.config();
        return {
            projectId,
            dataset
        };
    }, [
        client
    ]), [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    if (error) throw error;
    const [revalidate, startRefresh] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$presentation$40$1$2e$19$2e$8_$40$emotion$2b$is$2d$prop$2d$valid$40$1$2e$2$2e$2_$40$sanity$2b$color$40$3$2e$0$2e$6_debug$40$4$2e$4$2e$0_reac_epti5vobal4q5xpl7pmbcf6wnm$2f$node_modules$2f40$sanity$2f$presentation$2f$dist$2f$_chunks$2d$es$2f$hooks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRevalidate"])({
        refreshInterval
    }), shouldRefetch = revalidate === "refresh" || revalidate === "inflight";
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!shouldRefetch) return;
        let fulfilled = !1, fetching = !1;
        const controller = new AbortController();
        async function effect() {
            const { signal } = controller;
            fetching = !0;
            const { result, resultSourceMap, syncTags } = await client.fetch(query, params, {
                tag: "presentation-loader",
                signal,
                perspective,
                filterResponse: !1
            });
            fetching = !1, signal.aborted || (setSnapshot({
                result,
                resultSourceMap,
                tags: syncTags
            }), fulfilled = !0);
        }
        const onFinally = startRefresh();
        return effect().catch((error_0)=>{
            fetching = !1, error_0.name !== "AbortError" && setError(error_0);
        }).finally(onFinally), ()=>{
            !fulfilled && !fetching && controller.abort();
        };
    }, [
        client,
        dataset_0,
        liveDocument,
        params,
        perspective,
        projectId_0,
        query,
        shouldRefetch,
        startRefresh
    ]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$15$2e$1$2e$0_$40$babel$2b$core$40$7$2e$26$2e$0_react$2d$dom$40$18$2e$3$2e$1_react$40$18$2e$3$2e$1_$5f$react$40$18$2e$3$2e$1$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>documentsCacheLastUpdated && snapshot?.resultSourceMap ? {
            result: turboChargeResultIfSourceMap(cache, liveDocument, snapshot.result, perspective, snapshot.resultSourceMap),
            resultSourceMap: snapshot.resultSourceMap
        } : snapshot, [
        cache,
        documentsCacheLastUpdated,
        liveDocument,
        perspective,
        snapshot
    ]);
}
let warnedAboutCrossDatasetReference = !1;
function turboChargeResultIfSourceMap(cache, liveDocument, result, perspective, resultSourceMap) {
    if (perspective === "raw") throw new Error("turboChargeResultIfSourceMap does not support raw perspective");
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$csm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["applySourceDocuments"])(result, resultSourceMap, (sourceDocument)=>{
        if (sourceDocument._projectId) {
            warnedAboutCrossDatasetReference || (console.warn("Cross dataset references are not supported yet, ignoring source document", sourceDocument), warnedAboutCrossDatasetReference = !0);
            return;
        }
        return liveDocument?._id && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getPublishedId"])(liveDocument._id) === (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$sanity$2b$client$40$6$2e$24$2e$1_debug$40$4$2e$4$2e$0$2f$node_modules$2f40$sanity$2f$client$2f$dist$2f$_chunks$2d$es$2f$resolveEditInfo$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getPublishedId"])(sourceDocument._id) ? liveDocument : cache.get(sourceDocument._id);
    }, // eslint-disable-next-line @typescript-eslint/no-explicit-any
    (changedValue, { previousValue })=>typeof changedValue == "number" && typeof previousValue == "string" ? `${changedValue}` : changedValue, perspective);
}
;
 //# sourceMappingURL=LoaderQueries.js.map
}}),

};

//# sourceMappingURL=node_modules__pnpm_cf7c2d._.js.map